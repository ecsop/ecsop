CREATE TABLE O_ROLLCALL(
 RNO INTEGER PRIMARY KEY,
 NAME VARCHAR(50));

INSERT INTO O_ROLLCALL VALUES(1, 'A');
INSERT INTO O_ROLLCALL VALUES(2, 'B');
INSERT INTO O_ROLLCALL VALUES(3, 'C');
INSERT INTO O_ROLLCALL VALUES(4, 'D'); 
INSERT INTO O_ROLLCALL VALUES(5, 'E');

 CREATE TABLE N_ROLLCALL(
RNO INTEGER,
NAME VARCHAR(50));

INSERT INTO N_ROLLCALL VALUES(1, 'A');
INSERT INTO N_ROLLCALL VALUES(3, 'C');
INSERT INTO N_ROLLCALL VALUES(5, 'E');


DELIMITER $
 CREATE PROCEDURE PROD(IN ROLL1 INT)
 BEGIN
 DECLARE ROLL2 INT;
 DECLARE EXITCONDITION BOOLEAN;
 DECLARE CUR1 CURSOR FOR SELECT RNO FROM O_ROLLCALL WHERE RNO>ROLL1;
 DECLARE CONTINUE HANDLER FOR NOT FOUND SET EXITCONDITION = TRUE;
 OPEN CUR1;
 L1: LOOP
 FETCH CUR1 INTO ROLL2;
 IF NOT EXISTS (SELECT* FROM N_ROLLCALL WHERE RNO = ROLL2) THEN
 INSERT INTO N_ROLLCALL SELECT* FROM O_ROLLCALL WHERE RNO = ROLL2;
 END IF;
 IF EXITCONDITION THEN
 CLOSE CUR1;
 LEAVE L1;
 END IF;
 END LOOP L1;
 END;
 $

CALL PROD(1);